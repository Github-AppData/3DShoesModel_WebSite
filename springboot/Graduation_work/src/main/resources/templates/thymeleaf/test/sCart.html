<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Male_Fashion Template">
    <meta name="keywords" content="Male_Fashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>5조신발점 장바구니 파일</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
    rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
</head>

<body>


	<script src="js/viewer-api.js"></script>

	<script>
        window.addEventListener('load', function() {
            var allElements = document.getElementsByTagName('*');
            Array.prototype.forEach.call(allElements, function(el) {
                var includePath = el.dataset.includePath;
                if (includePath) {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function () {
                        if (this.readyState == 4 && this.status == 200) {
                            el.outerHTML = this.responseText;
                        }
                    };
                    xhttp.open('GET', includePath, true);
                    xhttp.send();
                }
            });
        });
        
        
    </script>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__option">
            <div class="offcanvas__links">
                <a href="sLogin">로그인</a>
                <a href="#">FAQ</a>
            </div>
            <div class="offcanvas__top__hover">
                <span>KRW <i class="arrow_carrot-down"></i></span>
                <ul>
                    <li>USD</li>
                    <li>EUR</li>
                    <li>KRW</li>
                </ul>
            </div>
        </div>
        <div class="offcanvas__nav__option">
            <a href="#" class="search-switch"><img src="img/icon/search.png" alt=""></a>
            <a href="#"><img src="img/icon/heart.png" alt=""></a>
			<a href="shopping-cart ver.1.html"><img src="img/icon/cart.png" alt=""> <span>0</span></a>
        </div>
        <div id="mobile-menu-wrap"></div>
        <div class="offcanvas__text">
            <p>상품 수령 후, 7일 이내 교환 및 반품이 가능합니다.</p>
        </div>
    </div>
    <!-- Offcanvas Menu End -->

    <!-- Header Section Begin -->
    <header class="header">
        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-7">
                        <div class="header__top__left">
                            <p>상품 수령 후, 7일 이내 교환 및 반품이 가능합니다.</p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-5">
                        <div class="header__top__right">
                            <div class="header__top__links">
                                <a th:if="${login}" th:hrf="@{sLogout}">로그아웃</a>
                				<a th:unless="${login}" th:href="@{sLogin}">로그인</a>
                                <a href="#">FAQ</a>
                            </div>
                            <div class="header__top__hover">
                            <!-- 임의에 dto 객체를 저렇게 줫는데 user.name이 아닌 user.uid 나 userDTO.name 같이 지정해서 백에서 정해주길
                            	login은 컨트롤러 쪽에서 로그인 처리를 할때 모델에 true false 처럼 참 거짓으로 해서 불타임으로 보내주면 될듯 -->
                                <span th:if="${login}" th:text="${user.name} + '님 어서오세요'"></span>
    							<span th:unless="${login}" th:text="어서오세요"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="header__logo">
                        <a href="main"><img src="img/logo.png" alt="" width="140" height="60" class="d-inline-block align-text-top rounded img-thumbnail"></a>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <nav class="header__menu mobile-menu">
                        <ul>
                            <li><a href="main">메인화면</a></li>
                            <li class="active"><a href="sMain">신발</a>
                                <ul class="dropdown">
                                    <li><a href="#">나이키</a></li>
                                    <li><a href="#">뉴발란스</a></li>
                                    <li><a href="#">컨버스</a></li>
                                    <li><a href="#">아디다스</a></li>
                                </ul></li></li>
                            <li><a href="#">고객센터</a>
                                <ul class="dropdown">
                                    <li><a href="#">본사정책</a></li>
                                    <li><a href="sDetails">상세화면</a></li>
                                    <li><a href="#">장바구니</a></li>
                                    <li><a href="#">결제하기</a></li>
                                </ul>
                            </li>
                            <li><a href="sBlog">런칭캘린더</a></li>
                            <li><a href="sContact">매장찾기</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="header__nav__option">
                        <a href="#" class="search-switch"><img src="img/icon/search.png" alt=""></a>
                        <a href="#"><img src="img/icon/heart.png" alt=""></a>
                        <a href="shopping-cart ver.1.html"><img src="img/icon/cart.png" alt=""> <span>0</span></a>
                    </div>
                </div>
            </div>
            <div class="canvas__open"><i class="fa fa-bars"></i></div>
        </div>
    </header>
    <!-- Header Section End -->

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-option" style="background-image: url(img/bgsnow.png)">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__text">
                        <h4>장바구니</h4>
                        <div class="breadcrumb__links">
                            <a href="main">메인화면</a>
                            <a href="sMain">신발</a>
                            <span>장바구니</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Shopping Cart Section Begin -->
    <section class="shopping-cart spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="shopping__cart__table">
                        <table>
                            <thead>
                                <tr>
                                    <th>상품</th>
                                    <th>수량</th>
                                    <th>합계</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="product__cart__item">
                                        <div class="product__cart__item__pic">
                                             <iframe id="api-frame-1" width="140" height="60" style="border:none" class="d-inline-block align-text-top rounded img-thumbnail"
		    										 allow="autoplay; fullscreen; xr-spatial-tracking" 
		    										xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share allowfullscreen mozallowfullscreen="true"
		    										 webkitallowfullscreen="true">
		    								</iframe>
                                        </div>
                                        <div class="product__cart__item__text">
												<article id="shoes1_info">
		                                            
	                                            </article>
                                        </div>
                                    </td>
                                    <td class="quantity__item">
                                        <div class="quantity">
                                            <div class="pro-qty-2">
                                                <input type="number" value="1" onchange="updateSubtotal(this)">
                                            </div>
                                        </div>
                                    </td>
                                    <td class="cart__price"	>111,300(원)</td>
                                    <td class="cart__close">
    									<!-- <i class="fa fa-close" onclick="removeCartItem(this)"></i> -->
    									<i class="fa fa-close" onclick="removeCartItem(this, 111300)"></i>
									</td>
                                </tr>
                                <tr>
                                    <td class="product__cart__item">
                                        <div class="product__cart__item__pic">
                                            <iframe id="api-frame-2" width="140" height="60" style="border:none" class="d-inline-block align-text-top rounded img-thumbnail"
     											allow="autoplay; fullscreen; xr-spatial-tracking" 
     											xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share allowfullscreen mozallowfullscreen="true"
											     webkitallowfullscreen="true"></iframe>
                                        </div>
                                        <div class="product__cart__item__text">
                                            <article id="shoes2_info">
		                                            
	                                        </article>
                                        </div>
                                    </td>
                                    <td class="quantity__item">
                                        <div class="quantity">
                                            <div class="pro-qty-2">
                                                <input type="text" value="1">
                                            </div>
                                        </div>
                                    </td>
                                    <td class="cart__price">199,200(원)</td>
                                    <td class="cart__close">
    									<i class="fa fa-close" onclick="removeCartItem(this)"></i>
									</td>
                                </tr>
                                <tr>
                                    <td class="product__cart__item">
                                        <div class="product__cart__item__pic">
                                            <iframe id="api-frame-3" width="140" height="60" style="border:none" class="d-inline-block align-text-top rounded img-thumbnail"
     											allow="autoplay; fullscreen; xr-spatial-tracking" 
     											xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share allowfullscreen mozallowfullscreen="true"
											     webkitallowfullscreen="true"></iframe>
                                        </div>
                                        <div class="product__cart__item__text">
                                            <article id="shoes3_info">
		                                            
	                                            </article>
                                        </div>
                                    </td>
                                    <td class="quantity__item">
                                        <div class="quantity">
                                            <div class="pro-qty-2">
                                                <input type="text" value="1">
                                            </div>
                                        </div>
                                    </td>
                                    <td class="cart__price">109,000(원)</td>
                                    <td class="cart__close">
    									<i class="fa fa-close" onclick="removeCartItem(this)"></i>
									</td>
                                </tr>
                                
                            </tbody>
                        </table>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-sm-6">
                            <div class="continue__btn">
                                <a href="shop.html">쇼핑 계속하기</a>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6">
    						<div class="continue__btn update__btn">
        						<a href="#" onclick="clearCart()"><i class="fa fa-spinner"></i> 장바구니 초기화</a>
    						</div>
						</div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="cart__discount">
                        <h6>쿠폰 코드</h6>
                        <form action="#">
                            <input type="text" placeholder="코드를 입력해주세요.">
                            <button type="submit">적용</button>
                        </form>
                    </div>
                    <div class="cart__total">
                    	<form action="/sBuying" method ="POST" target="_blank">
                        <h4>결제 금액</h4>
                        <ul>
                            <li>상품비 <span>419,500(원)</span></li>
                            <li>배송비 <span>2,500(원)</span></li>
                            <li>합계 <span>422,000(원)</span></li>
                        </ul>
                        <input type="submit" class="primary-btn" value="구매하기">
                       <!--  <a href="sBuying" class="primary-btn">구매하기</a> -->
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Shopping Cart Section End -->

    <!-- Footer Section Begin -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="footer__about">
                        <div class="footer__logo">
                            <a href="#"><img src="img/logo2.png" alt=""></a>
                        </div>
                        <p>5조신발점은 리퍼, 중고제품이 아닌 <br><span style="color:rgb(81, 255, 0)">새상품</span>만을 판매합니다.</p>
                        
                    </div>
                </div>
                <div class="col-lg-2 offset-lg-1 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h6>상품목록</h6>
                        <ul>
                            <li><a href="#">남성 신발</a></li>
                            <li><a href="#">여성 신발</a></li>
                            <li><a href="#">유아용 신발</a></li>
                            <li><a href="#">할인 제품</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h6>본사정책</h6>
                        <ul>
                            <li><a href="contact.html">Contact Us</a></li>
                            <li><a href="#">결제 수단</a></li>
                            <li><a href="#">배송 정책</a></li>
                            <li><a href="#">반품 및 교환</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 offset-lg-1 col-md-6 col-sm-6">
                    <div class="footer__widget">
                        <h6>구독</h6>
                        <div class="footer__newslatter">
                            <p>신제품 정보 및 <span style="color:rgb(81, 255, 0)">할인</span>과 <span style="color:rgb(81, 255, 0)">프로모션</span> 등을 빠르게 받아보고 싶으시다면?</p>
                            <form action="#">
                                <input type="text" placeholder="이메일">
                                <button type="submit"><span class="icon_mail_alt"></span></button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="footer__copyright__text">
                        <p>Copyright ©
                            <script>
                                document.write(new Date().getFullYear());
                            </script>2020
                            All rights reserved | 5조신발점 <i class="fa fa-heart-o"
                            aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">ih</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Search Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch">+</div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="검색">
            </form>
        </div>
    </div>
    <!-- Search End -->
    

    <script type="text/javascript">
		
		var imageToModelMapping_real = [];
		
		var shoes_id;
		var shoes_name;
	    var shoes_price;
		
		window.onload = pageLoad;
		function pageLoad(){
			console.log("페이지가 로드 되었습니다.");
		
		    var xhr = new XMLHttpRequest();
		   	
		
		    xhr.onreadystatechange = function () {
		        if (xhr.readyState === 4 && xhr.status === 200) {
		            var object = JSON.parse(xhr.responseText);
		            var objLength = Object.keys(object).length;
		            
					for (var i = 0; i < objLength; i++) {
					    shoes_id = object[i].shoes_id;
					    shoes_name = object[i].shoes_name
					    shoes_price = object[i].shoes_price;
					    imageToModelMapping_real.push({ uid: shoes_id, iframeId: 'api-frame-' + (i + 1), shoes_name: shoes_name, shoes_price:shoes_price });
					}
					
					var article_id = ["shoes1_info", "shoes2_info", "shoes3_info"];
					
					for(var i = 0; i < objLength; i++)
					{
						var shoes_info_name = imageToModelMapping_real[i].shoes_name;
		    			var shoes_info_price = imageToModelMapping_real[i].shoes_price;
		    			
		    			document.getElementById(article_id[i]).innerHTML = "<h6>" + shoes_info_name + "</h6>" +
		    												   			   "<h5>" + shoes_info_price + " 원" + "</h5>";
		    			
					}
					
					imageToModelMapping_real.forEach(function(mapping) {
						replaceWith3DModel(mapping.uid, mapping.iframeId);
					});
				}
		    };
		   
		
		    xhr.open("GET", "/ProductListSevlet", true);
		    xhr.send(null);
    	};
    	
    function replaceWith3DModel(uid, iframeId) {
        var iframe = document.getElementById(iframeId);
        var client = new Sketchfab( iframe );

        client.init(uid, {
            success: function onSuccess(api) {
                api.start();
                api.addEventListener('viewerready', function() {
                    console.log(iframeId + ' 3D 모델이 준비되었습니다.');
                });
            },
            error: function onError() {
                console.log(iframeId + ' 3D 모델 초기화 오류');
            }
        });
    }
   
	

    /*// 이미지를 3D 모델로 대체
    imageToModelMapping_real.forEach(function(mapping) {
        replaceWith3DModel(mapping.uid, mapping.iframeId);
    });*/
    </script>
    
    <!-- Js Plugins -->
    <script
  src="https://code.jquery.com/jquery-3.7.1.js"
  integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
  crossorigin="anonymous"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/mixitup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/removeCart.js"></script>
</body>

</html>