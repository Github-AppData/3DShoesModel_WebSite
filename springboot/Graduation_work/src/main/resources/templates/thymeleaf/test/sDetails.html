<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<style>
		/* 디자인된 div 스타일 */
	    .styled-button {
			color: black;
    		background-color: #ccc;
	        /* 디자인 요소 */
	        border: none;
	        background: none;
	        padding: 0;
	        border-radius: 5px;
	        padding: 5px 10px;
	        cursor: pointer;
	        /* 기타 스타일 요소를 여기에 추가할 수 있습니다 */
	    }
	    
	    #click-message {
		  display: none;
		  position: fixed;
		  top: 250px;
		  left: 430px;
		  background-color: rgb(235, 41, 53); /* 배경색 */
		  color: #fff;
		  padding: 10px 20px;
		  border-radius: 5px;
		}
	</style>
    <meta charset="UTF-8">
    <meta name="description" content="5JO">
    <meta name="keywords" content="5JO, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>5조신발점 상품 상세화면</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
    rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link rel="stylesheet" href="css/hearts.css" type="text/css">
    <link rel="stylesheet" href="css/search.css" type="text/css">
    
</head>

<body>
	<script src="https://cdn.iamport.kr/v1/iamport.js"></script>
	<script src="js/viewer-api.js"></script>
	<script src="js/numeral.js"></script>
	
	<script>
        window.addEventListener('load', function() {
            var allElements = document.getElementsByTagName('*');
            Array.prototype.forEach.call(allElements, function(el) {
                var includePath = el.dataset.includePath;
                if (includePath) {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function () {
                        if (this.readyState == 4 && this.status == 200) {
                            el.outerHTML = this.responseText;
                        }
                    };
                    xhttp.open('GET', includePath, true);
                    xhttp.send();
                }
            });
        });
    </script>
    
    


    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__option">
            <div class="offcanvas__links">
                <a href="sLogin">로그인</a>
                <a href="#">FAQ</a>
            </div>
            <div class="offcanvas__top__hover">
                <span>KRW <i class="arrow_carrot-down"></i></span>
                <ul>
                    <li>USD</li>
                    <li>EUR</li>
                    <li>KRW</li>
                </ul>
            </div>
        </div>
        <div class="offcanvas__nav__option">
            <a href="#" class="search-switch"><img src="img/icon/search.png" alt=""></a>
            <a href="#"><img src="img/icon/heart.png" alt=""></a>
			<a href="shopping-cart ver.1.html"><img src="img/icon/cart.png" alt=""> <span>0</span></a>
        </div>
        <div id="mobile-menu-wrap"></div>
        <div class="offcanvas__text">
            <p>상품 수령 후, 7일 이내 교환 및 반품이 가능합니다.</p>
        </div>
    </div>
    <!-- Offcanvas Menu End -->

    <!-- Header Section Begin -->
    <header class="header">
        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-7">
                        <div class="header__top__left">
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-5">
                        <div class="header__top__right">
                            <div class="header__top__links">
                                <a th:if="${userID}" th:href="@{/LogoutServlet}" id="sendData">로그아웃</a> <!--th:href="@{sLogout} 로그 아웃 서블릿으로-->
                				<a th:unless="${userID != null}" th:href="@{sLogin}">로그인</a>
                            </div>
                            <div class="header__top__hover">
                            <!-- 임의에 dto 객체를 저렇게 줫는데 user.name이 아닌 user.uid 나 userDTO.name 같이 지정해서 백에서 정해주길
                            	login은 컨트롤러 쪽에서 로그인 처리를 할때 모델에 true false 처럼 참 거짓으로 해서 불타임으로 보내주면 될듯 -->
                                <span th:if="${userID}" th:text="${userID} + '님 어서오세요'"></span>
    							<span th:unless="${userID}" th:text="어서오세요"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="header__logo">
                        <a href="main"><img src="img/logo.png" alt="" width="140" height="60" class="d-inline-block align-text-top rounded img-thumbnail"></a>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <nav class="header__menu mobile-menu">
                        <ul>
                           <li><a href="main">메인화면</a></li>
                            <li class="active"><a href="sMain">신발</a>
                            <li><a href="noticdBoard">게시판 </a></li>
                            <li><a href="sContact">매장찾기</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="header__nav__option">
							<a href="like"><img src="img/icon/heart.png" alt=""></a>
							<a href="sCart"><img src="img/icon/cart.png" alt=""></a>
							<a href="mypage"><img src="img/icon/my.png" style="width: 20px; height: 20px;"></a>
						</div>
                </div>
            </div>
            <div class="canvas__open"><i class="fa fa-bars"></i></div>
        </div>
    </header>
    <!-- Header Section End -->



    <!-- Product section-->
        <section class="shop-details">
            <div class="container px-4 px-lg-5 my-5">	
                <div class="row gx-4 gx-lg-5 align-items-center">
                
                    <div class="col-md-6">
                    		<iframe src="" id="api-frame-1" width="600" height="500" style="border:none"
    									allow="autoplay; fullscreen; xr-spatial-tracking" 
    									xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share allowfullscreen mozallowfullscreen="true"
    									webkitallowfullscreen="true">
    					</iframe>
    				</div>
    					<!--
    					<div class="sketchfab-embed-wrapper"> 
							<iframe id="sketchfab-iframe" width="550" height="600" title="Shoe" frameborder="0" allowfullscreen mozallowfullscreen="true" 
								webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" 
								xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered 
								web-share src="https://sketchfab.com/models/578c885c820544359969facae168c529/embed\"> 
						  	</iframe> <p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;"> <a href="https://sketchfab.com/3d-models/shoe-578c885c820544359969facae168c529?utm_medium=embed&utm_campaign=share-popup&utm_content=578c885c820544359969facae168c529" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> Shoe </a> by <a href="https://sketchfab.com/pierzcd13?utm_medium=embed&utm_campaign=share-popup&utm_content=578c885c820544359969facae168c529" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> Chris Pierz </a> on <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=578c885c820544359969facae168c529" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a></p></div>
    				</div>-->
                    <div class="col-md-5 ms-4 ml-5" ><br>
                        	<!-- 제품 이름 --> 
                       		<!-- 아직 만들지 않은 DTO라서 존재하지 않기에 오류가 나 조건식으로 주어 임시 로 쓰는 중 DTO가 만들어지면 삭제후  th:text="${productDTO.shoesname}" 만 쓰면 됨-->
                            <h6 id="shoes_name"></h6>
                        <div class="mt-2">
                            <h5 id="total_cost">105,000원</h5>
                        </div>
                        <div class="product__details__text mb-5 " style="text-align: left" >
						<span id="ratingPlace">
							
                        </span>
                         
                         <div class="product__details__option mt-2">
                                <div class="product__details__option__size">
									<div id="click-message" class="hidden"></div>
	                                    <br><span class="mb-2">사이즈 선택:</span><br>
	                                    <label>
	                                        <button class="styled-button" input-link-id="0" id="selectSize0" onclick="size(this);">210</button>
	                                    </label>
	                                    <label>
	                                        <button class="styled-button" input-link-id="1" id="selectSize1" onclick="size(this);">220</button>
	                                    </label>
	                                    
	                                    <label>
	                                        <button class="styled-button" input-link-id="2" id="selectSize2" onclick="size(this);">230</button>
	                                     </label>
	                                     
	                                     <label>
	                                        <button class="styled-button" input-link-id="3" id="selectSize3" onclick="size(this);">240</button>
	                                     </label>
	                                     
	                                     <label>
	                                        <button class="styled-button" input-link-id="4" id="selectSize4" onclick="size(this);">250</button><br>
	                                     </label>
	                                     
	                                     <label>
	                                        <button class="styled-button" input-link-id="5" id="selectSize5" onclick="size(this);">260</button>
	                                     </label>
	                                     
	                                     <label>   
	                                        <button class="styled-button" input-link-id="6" id="selectSize6" onclick="size(this);">270</button>
	                                     </label>
	                                     
	                                     <label>
	                                        <button class="styled-button" input-link-id="7" id="selectSize7" onclick="size(this);">280</button>
	                                     </label>
	                                     
	                                     <label>
	                                        <button class="styled-button" input-link-id="8" id="selectSize8" onclick="size(this);">290</button>
	                                     </label>
	                                </div>
	                            </div>
	                            
	                         	<div class="product__details__cart__option">
	                                <div class="quantity">
	                                    <div class="pro-qty">
	                                        <input type="text" id="quantity" value="1" name="quantityInput">                        
	                                    </div>
	                                </div>
	                                <button onclick="noticeMessage()" class="primary-btn">장바구니</button>
	                            </div>
	                            
	                            </div>
                            <div class="row pb-3">
                                <div class="col d-grid">
                                    <button onclick="requestPay()" type="button" class="btn btn-dark btn-lg fw-bold" name="submit" value="buy">구매하기</button>
                                    <button onclick="requestPay2()" type="button" class="btn btn-dark btn-lg fw-bold" name="submit" value="buy">카카오페이</button>
                                </div>
                            </div>
                            
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        
        <div class="product__details__content">
            <div class="container">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-8">
                        <div class="product__details__text">
                           
                            
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="product__details__tab">
                            <ul class="nav nav-tabs" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#tabs-7"
                                    role="tab">교환/반품안내</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#tabs-6" role="tab">배송안내</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#tabs-5" role="tab">주의사항</a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane" id="tabs-5" role="tabpanel">
                                    <div class="product__details__tab__content">
                                        <p class="note">상품 착용 및 세탁 시에는 제품에 부착된 라벨 및 취급 주의사항을 꼭 먼저 확인해 주시길 바랍니다. <br>가벼운 오염물이 묻었을 때에는 부드러운 솔로 털어내주시기 바랍니다.<br> 물에 젖었을 때에는 바람이 잘 통하는 응달에 건조해 주시기 바랍니다.<br> 올바르지 않은 클리너 사용은 황변, 탈색의 원인이 되므로 사용에 주의하시기 바랍니다. <br>밝은 색상의 캔버스 제품 세탁은 전문 세탁 업체를 이용하시는 것을 권장해드립니다.</p>
                                        <div class="product__details__tab__content__item">
                                            <h5>품질보증기준</h5>
                                            <p>관련 법 및 소비자 분쟁 해결 기준에 따름 (품질보증기간 : 구입일로부터 6개월 이내)</p>
                                        </div>
                                        <div class="product__details__tab__content__item">
                                            <h5>A/S 책임자와 전화번호</h5>
                                            <p>5조신발점 A/S 담당자 : 080-745-5720</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="tabs-6" role="tabpanel">
                                    <div class="product__details__tab__content">
                                        <div class="product__details__tab__content__item">
                                            <h5>배송안내</h5>
                                            <p>평균 배송일<br>
                                                평일 4시 이전 주문 당일 출고됩니다. (물류창고 발송에 한함) <br>
                                                다만, 물류창고 상황에 따라 당일 출고 불가 할 수 있습니다.<br>
                                                배송 정보 확인까지 송장 등록 후 평균 2일 소요될 수 있습니다. (주말 및 공휴일 제외)<br>
                                                택배사의 사정에 따라 배송은 다소 지연될 수 있습니다. (배송일정 문의 : 한진택배 1588-0011)<br>
                                                오프라인 매장 발송은 출고까지 2~5 영업일 더 소요될 수 있습니다.<br>
                                                동일 주문번호 1족 이상 구매 시 재고 수량에 따라 출고처 및 배송 일정이 상품별 상이할 수 있습니다.</p>
                                        </div>
                                        
                                    </div>
                                </div>
                                <div class="tab-pane active" id="tabs-7" role="tabpanel">
                                    <div class="product__details__tab__content">
                                        <p class="note">브랜드 박스(신발 박스)의 훼손이 없도록 택배 박스 및 타 박스로 포장하여 발송해주시기 바랍니다.</p>
                                        <div class="product__details__tab__content__item">
                                            <h5>교환/반품안내</h5>
                                            <p>상품하자 이외 사이즈, 색상교환 등 단순 변심에 의한 교환/반품 택배비 고객부담으로 왕복택배비가 발생합니다.<br>
                                                (전자상거래 등에서의 소비자보호에 관한 법률 제17조(청약 철회등)9항에 의거 소비자의 사정에 의한 청약 철회 시 택배비는 소비자 부담입니다.)<br>
                                                제품을 받으신 날부터 7일 이내(상품불량인 경우 30일)에 접수해주시기 바랍니다.<br>
                                                접수 시 왕복 택배비가 부과됩니다. (단, 상품 불량, 오배송의 경우 택배비를 환불해드립니다.)<br>
                                                접수 후 14일 이내에 상품이 반품지로 도착하지 않을 경우 접수가 취소됩니다.(배송 지연 제외)<br>
                                                브랜드 박스 훼손, 타상품 입고, 주문번호 확인 불가 등 처리 불가 시 안내 없이 반송 처리 될 수 있습니다.   </p>
                                        </div>
                                        <div class="product__details__tab__content__item">
                                            <h5>교환/반품(환불)이 불가능한 경우</h5>
                                            <p>신발/의류를 외부에서 착용한 경우<br>
                                                제품을 사용 또는 훼손한 경우, 사은품 누락, 상품 TAG, 보증서, 상품 부자재가 제거 혹은 분실된 경우<br>
                                                밀봉포장을 개봉했거나 내부 포장재를 훼손 또는 분실한 경우(단, 제품확인을 위한 개봉 제외)<br>
                                                브랜드 박스 분실/훼손된 경우<br>
                                                고객 부주의로 상품이 훼손, 변경된 경우<br>
                                                매장 방문 교환 시 추가 교환/반품 불가 (온라인/오프라인 동일)</p> <br>
                                                <div class="product__details__tab__content__item">
                                                    <h5>A/S 책임자와 전화번호</h5>
                                                    <p>5조신발점 A/S 담당자 : 080-745-5720</p>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <br><br><br><br><br><br>
    <!-- Shop Details Section End -->

    

    <!-- Footer Section Begin -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="footer__about">
                        <div class="footer__logo">
                            <a href="#"><img src="img/logo.png" alt=""></a>
                        </div>
                        <p>5조신발점은 리퍼, 중고제품이 아닌 <br><span style="color:rgb(81, 255, 0)">새상품</span>만을 판매합니다.</p>
                        
                    </div>
                </div>
                <div class="col-lg-2 offset-lg-1 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h6>상품목록</h6>
                        <ul>
                            <li><a href="#">남성 신발</a></li>
                            <li><a href="#">여성 신발</a></li>
                            <li><a href="#">유아용 신발</a></li>
                            <li><a href="#">할인 제품</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h6>본사정책</h6>
                        <ul>
                            <li><a href="contact.html">Contact Us</a></li>
                            <li><a href="#">결제 수단</a></li>
                            <li><a href="#">배송 정책</a></li>
                            <li><a href="#">반품 및 교환</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 offset-lg-1 col-md-6 col-sm-6">
                    <div class="footer__widget">
                        <h6>구독</h6>
                        <div class="footer__newslatter">
                            <p>신제품 정보 및 <span style="color:rgb(81, 255, 0)">할인</span>과 <span style="color:rgb(81, 255, 0)">프로모션</span> 등을 빠르게 받아보고 싶으시다면?</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="footer__copyright__text">
                        <p>Copyright ©
                            <script>
                                document.write(new Date().getFullYear());
                            </script>2020
                            All rights reserved | 5조신발점 <i class="fa fa-heart-o"
                            aria-hidden="true"></i>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Search Begin -->
    <div class="search-model" style="background-image: url(img/bg-2.jpg);">
        <div class="h-100 d-flex align-items-center justify-content-center backdrop-filter: blur(5px);">
            <div class="search-close-switch">+</div>
            <form class="search-model-form">
                <form method="post">
  <div class="container mt-4"> 
	  <div class="row d-flex justify-content-center"> 
		  <div class="col-md-12"> 
			  <div class="card p-4 mt-3" style="background-color: rgb(255, 255, 255);"> 
				  <h3 class="heading mt-5 text-center">무엇을 찾으시나요?</h3> 
				  <div class="d-flex justify-content-center px-5"> 
					  <div class="search"> 
						  <input type="text" class="search-input" list="datalistOptions" placeholder="ex) 나이키, 뉴발란스 ..." name=""> 
						  <datalist id="datalistOptions">
			  					<option value="나이키">
							 	 <option value="잭퍼셀">
							  	<option value="남성">
					  			<option value="as">
						  		<option value="질문">
							  	<option value="게시판">
								<option value="배송">
								<option value="고객센터">
								<option value="black">
								 <option value="검정">
								<option value="255">
							</datalist>
						  <a href="#" class="search-icon"> <i class="fa fa-search"></i> </a> 
						  </div>
						   </div>
						    <div class="row mt-4 g-1 px-4 mb-5"> 
								<div class="col-md-2"> 
									<div class="card-inner p-3 d-flex flex-column align-items-center"> 
										<a href="mypage"><img src="https://i.imgur.com/Mb8kaPV.png" width="50"></a>
										 <div class="text-center mg-text"> 
											 <span class="mg-text">계정</span> 
											 </div> 
											 </div>
											  </div> 
											  <div class="col-md-2"> 
												  <div class="card-inner p-3 d-flex flex-column align-items-center">
													   <a href="sBuying"><img src="https://i.imgur.com/ueLEPGq.png" width="50"> </a>
													   <div class="text-center mg-text">
														    <span class="mg-text">결제</span> 
														    </div>
														     </div> 
														     </div>
														      <div class="col-md-2"> 
																  <div class="card-inner p-3 d-flex flex-column align-items-center">
																	   <a href="mypage"><img src="https://i.imgur.com/tmqv0Eq.png" width="50"></a>
																	   <div class="text-center mg-text">
																		    <span class="mg-text">배송</span>
																		     </div>
																		      </div> 
																		      </div>
																		       <div class="col-md-2">
																				    <div class="card-inner p-3 d-flex flex-column align-items-center"> 
																						<a href="sCart"><img src="https://i.imgur.com/D0Sm15i.png" width="50"></a>
																						<div class="text-center mg-text"> <span class="mg-text">장바구니</span>
																						 </div>
																						  </div> 
																						  </div>
																						  
																						   <div class="col-md-2"> 
																							   <div class="card-inner p-3 d-flex flex-column align-items-center"> 
																								   <a href="sMain"><img src="https://i.imgur.com/Z7BJ8Po.png" width="50"> </a>
																								   <div class="text-center mg-text"> <span class="mg-text">타임딜</span> 
																								   </div> 
																								   </div>
																								    </div> 
																								    <div class="col-md-2"> 
																										<div class="card-inner p-3 d-flex flex-column align-items-center">
																											 <a href="noticdBoard"><img src="https://i.imgur.com/YLsQrn3.png" width="50"></a> 
																											 <div class="text-center mg-text"> <span class="mg-text">게시판</span>
																											  </div> 
																											  </div>
																											   </div> 
																											   </div> 
																											   </div> 
																											   </div> 
																											   </div>
																											    </div>
				</form>
            </form>
        </div>
    </div>
    <!-- Search End -->
    
    <script type="text/javascript">
		
		// 전역변수 공간 입니다만.
		
		var imageToModelMapping_real = [];
		var imageToModelMapping_real2 = [];
		var iframe_clicked = [];
		
		var shoes_info_final_price;
		var shoes_id_pay;
		
		var shoes_id;
	    var total_cost;
	    var cnt = 0;
	    var shoes_price = 0;
	    var sales = 0;
	    
	    var xhr = new XMLHttpRequest();
	    var xhr2 = new XMLHttpRequest();
	    
	    var selected_size = 0;
	    function size(element){
			
			var linkId = 0;
			
			const buttons = document.querySelectorAll('.styled-button');
		    buttons.forEach(btn => {
		        if (btn === element) {
		            btn.style.color = "white";
		        } else {
		            btn.style.color = "black"; // 다른 버튼의 색 초기화
		        }
		    });
			

			linkId = element.getAttribute("input-link-id");
			
			var size_id = 'selectSize' + linkId;
			selected_size = document.getElementById(size_id).textContent;
			
			console.log("selected_size : ", selected_size);
		}
	    
	    window.onload = pageLoad;
		function pageLoad()
		{
			showclickToast("신발을 드래그하여 이리저리 움직여보세요 !");
			
			
			cnt = 0;
			xhr.onreadystatechange = function () 
			{
				// 응답이 되었으면,
				if (xhr.readyState === 4 && xhr.status === 200) 
				{
		            var object = JSON.parse(xhr.responseText);
		            var objLength = Object.keys(object).length;
		            console.log("objLength : ",objLength);
		            
		            console.log(object[0]);
		            
		            shoes_id = object[0].uid;
					shoes_name = object[0].shoes_name;
					final_price = object[0].final_price;
					review_stars = object[0].review_stars;
					
					var RatingInnerHTML = '<div class="rating">';
						
					var graystars = 5 - review_stars;
						
					// 주황색 별을 먼저 찍고, 그 다음에 회색을 찍는다.
					console.log("graystars : ", graystars);
					for(var sh = 0; sh < review_stars; sh++)
					{ 
						RatingInnerHTML += '<i class="fa fa-star" style="color: orange;"></i>';
					}
					
					
					for(var h = 0; h < graystars; h++)
					{
						RatingInnerHTML += '<i class="fa fa-star" style="color: gray;"></i>';
					}
					
					RatingInnerHTML += '</div>';
					document.getElementById("ratingPlace").innerHTML = RatingInnerHTML;
					
					// 장바구니 페이지 갈 정보들 
					imageToModelMapping_real2.push(shoes_id);
					imageToModelMapping_real2.push(shoes_name);
					imageToModelMapping_real2.push(final_price);
					
					
					imageToModelMapping_real.push({ uid: shoes_id, iframeId: 'api-frame-1', shoes_name: shoes_name, final_price:final_price, review_stars:review_stars });
					console.log("imageToModelMapping_real : ", imageToModelMapping_real[0]);
					
		            
					/// Servlet에서 받은 신발의 정보들을 html에다가 set 하는 코드입니다.
					
					// 신발 이름 
					var shoes_info_name = imageToModelMapping_real[0].shoes_name;
		    		document.getElementById("shoes_name").innerHTML = "<h6>" + shoes_info_name + "</h6>";
					
					// 신발 가격 
					shoes_info_final_price = imageToModelMapping_real[0].final_price;
					shoes_id_pay = imageToModelMapping_real[0].uid;
					var format_price_real = numeral(shoes_info_final_price).format('0,0');
		    		document.getElementById("total_cost").innerHTML = "<h5>" + format_price_real + "원 </h5>";
					
					
					imageToModelMapping_real.forEach(function(mapping) 
					{
						replaceWith3DModel(mapping.uid, mapping.iframeId);
					});
					
				} // if (xhr.readyState === 4 && xhr.status === 200) 

			}; // xhr.onreadystatechange 끝 	
			
			
			xhr.open("POST", "/DetailPageSetServlet", true); // 비동기 요청 시작.
		   	xhr.send(null); 
		   			
		}; // pageLoad  
		
		function noticeMessage(){
			var quantity = document.getElementById("quantity").value;
			
			console.log("quantity : ",quantity);
			console.log("selected_size : ", selected_size);
			imageToModelMapping_real2.push(quantity);
			imageToModelMapping_real2.push(selected_size);
			
			xhr2.onreadystatechange = function () 
			{
				console.log("imageToModelMapping_real2 : ", imageToModelMapping_real2);
				console.log("xhr2.readyState : ", xhr2.readyState);
				console.log("xhr2.status : ", xhr2.status);
				
				// 응답이 되었으면,
				if (xhr2.readyState === 4 && xhr2.status === 200) 
				{
					showclickToast("상품이 추가 되었습니다.");
				} else if(xhr2.readyState === 4 && xhr2.status === 410){
				  	showclickToast("이미 장바구니에 있습니다.");
				} else if(xhr2.readyState === 4 && xhr2.status === 400){
				  	showLoginToast("로그인하고 오세요.");
				}
			}
			
			xhr2.open("POST", "/CartAddObjectServlet", true);
			xhr2.send(imageToModelMapping_real2); // sDetails에 있는 정보를 보낸다.
		}
		
		function showclickToast(message) {
			
		  var toast = document.getElementById("click-message");
		  toast.innerText = message;
		  toast.style.display = "block";
		  
		  setTimeout(function() {
		    toast.style.display = "none";
		  }, 6000); // 3초 후 메시지가 사라집니다.
		}
		
		function showLoginToast(message) {
			
		  var toast = document.getElementById("click-message");
		  toast.innerText = message;
		  toast.style.display = "block";
		  
		  setTimeout(function() {
		    toast.style.display = "none";
		    location.href="sLogin";
		  }, 3000); // 3초 후 메시지가 사라집니다.
		}
		
		
	    
	    function replaceWith3DModel(uid, iframeId) {
        return new Promise(function(resolve, reject) {
            var iframe = document.getElementById(iframeId);
            var client = new Sketchfab(iframe);

            client.init(uid, {
                success: function onSuccess(api) {
                    api.start();
                    api.addEventListener('viewerready', function() {
                        console.log(iframeId + ' 3D 모델이 준비되었습니다.');
                        resolve(); // Promise가 성공했음을 알립니다.
                    });
                },
                error: function onError() {
                    console.log(iframeId + ' 3D 모델 초기화 오류');
                    reject(); // Promise가 실패했음을 알립니다.
                },
                // 초기화 매개변수 설정
                graph_optimizer: 1, //그래프
                merge_materials: 1, //재질 병합
                material_packing: 1 //재질 패킹
            });
        });
    }
    </script>
    
     
    

    <!-- Js Plugins -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/mixitup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>
    
    <script src="js/import.js"></script>
    
</body>

</html>